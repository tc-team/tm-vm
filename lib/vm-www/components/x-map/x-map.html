<link rel="import" href="../../bower_components/google-apis/google-maps-api.html">

<polymer-element name='x-map' attributes='marks mapInfo' extends='google-map' on-google-map-ready="{{xMapReady}}">
		<template>
			<link rel="stylesheet" href="css/x-map.css">
			
			<core-ajax id="getMarks"
	            auto
	            url="http://localhost:3000/target"
	            method="GET"
	            handleAs="json"
	            withCredentials="true"
	            on-core-response="{{handleResGetMap}}">
	        </core-ajax>

	        <core-ajax id="saveMark"
	            auto = "false"
	            url="http://localhost:3000/target"
	            method="POST"
	            handleAs="json"
	            params = '{
			      "tile": "{{name}}",
			      "longitude": "{{lng}}",
			      "latitude": "{{lat}}",
			      "description": "test",
			      "status": "test"
			    }'
	            withCredentials="true"
	            on-core-response="{{handleResSaveMark}}">
	        </core-ajax>
			
			<shadow></shadow>
			
			<content id="markers" select="x-map-marker"></content>
	        
        </template> 
	<script src="js/x-map.js"></script>
</polymer-element>